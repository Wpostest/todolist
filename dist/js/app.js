"use strict";var btnDone=document.querySelector(".todolist__done"),bicepsRight=document.querySelector(".todolist__done-right-biceps"),bicepsLeft=document.querySelector(".todolist__done-left-biceps"),mouseOverAnimation=function(e){bicepsRight.classList.add("biceps-right-over"),bicepsLeft.classList.add("biceps-left-over"),bicepsRight.classList.remove("biceps-right-out"),bicepsLeft.classList.remove("biceps-left-out")},mouseOutAnimation=function(e){bicepsRight.classList.remove("biceps-right-over"),bicepsLeft.classList.remove("biceps-left-over"),bicepsRight.classList.add("biceps-right-out"),bicepsLeft.classList.add("biceps-left-out")};btnDone.addEventListener("mouseover",mouseOverAnimation),btnDone.addEventListener("mouseout",mouseOutAnimation);var btnShowMore=document.querySelector(".todolist__show-more"),todolistPanel=document.querySelector(".todolist"),showMore=function(){btnShowMore.toggleAttribute("isShowing"),1==btnShowMore.hasAttribute("isShowing")?(todolistPanel.style.maxHeight="100%",btnShowMore.textContent="pokaz mniej"):(todolistPanel.style.maxHeight="455px",btnShowMore.textContent="pokaz wiecej")};btnShowMore.addEventListener("click",showMore);var deleteTasksBtn=document.querySelector(".todolist__done"),deleteTasks=function(){var e=document.querySelectorAll(".todolist__task .todolist__checkbox-done:checked");0<e.length&&(e.forEach(function(e){e.parentElement.remove()}),chartRefresh())};deleteTasksBtn.addEventListener("click",deleteTasks);var taskCount=function(){return document.querySelectorAll(".todolist__task").length},formAddTask=document.querySelector(".todolist__form-add-task"),todoList=document.querySelector(".todolist"),createTask=function(e){var t=document.createElement("li");t.className="todolist__task";var o=document.createElement("label");o.htmlFor="task-"+(taskCount()+1),o.className="todolist_task-label";var a=document.createElement("input");a.type="checkbox",a.className="todolist__checkbox-done",a.id="task-"+(taskCount()+1),a.addEventListener("change",checboxChangeEvent);var n=document.createElement("span");n.className="todolist__task-text",n.textContent=e;var r=document.createElement("input");r.type="checkbox",r.className="todolist__checkbox-star";var i=document.createElement("div");return i.className="checbox-done_background_animation",t.appendChild(o),t.appendChild(a),t.appendChild(n),t.appendChild(r),t.appendChild(i),t},addTask=function(){event.preventDefault();var e=event.target.querySelector(".todolist__add-task");if(""!==e.value){var t=createTask(e.value);todoList.appendChild(t),e.value="",chartRefresh()}};formAddTask.addEventListener("submit",addTask);var chart=document.querySelector(".todolist__line-done-percentage"),taskDoneNumerDisplay=document.querySelector(".todolist__count-done-task"),allTaskNumberDisplay=document.querySelector(".todolist__count-all-task"),chartRefresh=function(){var e=document.querySelectorAll(".todolist__task").length,t=document.querySelectorAll(".todolist__checkbox-done:checked").length,o=t/e*100;taskDoneNumerDisplay.textContent=t,allTaskNumberDisplay.textContent=e,chart.style.background=e<=0?"linear-gradient(to right, #68d391 0%, #68d391 0%, #dadada 0%, #dadada 100%)":"linear-gradient(to right, #68d391 0%, #68d391 ".concat(o,"%, #dadada ").concat(o,"%, #dadada 100%)")};function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}chartRefresh();var checkboxes=_toConsumableArray(document.querySelectorAll(".todolist__checkbox-done")),checboxChangeEvent=function(){chartRefresh()};checkboxes.forEach(function(e){e.addEventListener("change",checboxChangeEvent)});var dateDisplay=document.querySelector(".todolist__current-time");function formatDate(e){var t=e.getDate(),o=e.getMonth();return["Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota","Niedziela"][e.getDay()-1]+" "+t+" "+["Stycznia","Luty","Marca","Kwietnia","Maja","Czerwca","Lipca","Sierpnia","Wrzesienia","Października","Listopada","Grudnia"][o]}dateDisplay.textContent=formatDate(new Date),setInterval(function(){dateDisplay.textContent=formatDate(new Date)},6e4);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL2FwcC5qcyIsImpzL2NvbXBvbmVudHMvYmljZXBzLWFuaW1hdGlvbi5qcyIsImpzL2NvbXBvbmVudHMvYnRuLXNob3ctbW9yZS5qcyIsImpzL2NvbXBvbmVudHMvZGVsZXRlLXRhc2tzLmpzIiwianMvY29tcG9uZW50cy90YXNrcy1jb3VudC5qcyIsImpzL2NvbXBvbmVudHMvdG9kb2xpc3RfYWRkX3Rhc2suanMiLCJqcy9jb21wb25lbnRzL3RvZG9saXN0X2NoYXJ0LmpzIiwianMvY29tcG9uZW50cy90b2RvbGlzdF9jaGVja190YXNrX2V2ZW50LmpzIiwianMvY29tcG9uZW50cy90b2RvbGlzdF9kYXRlLmpzIl0sIm5hbWVzIjpbImJ0bkRvbmUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJiaWNlcHNSaWdodCIsImJpY2Vwc0xlZnQiLCJtb3VzZU92ZXJBbmltYXRpb24iLCJlIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwibW91c2VPdXRBbmltYXRpb24iLCJhZGRFdmVudExpc3RlbmVyIiwiYnRuU2hvd01vcmUiLCJ0b2RvbGlzdFBhbmVsIiwic2hvd01vcmUiLCJ0b2dnbGVBdHRyaWJ1dGUiLCJoYXNBdHRyaWJ1dGUiLCJzdHlsZSIsIm1heEhlaWdodCIsInRleHRDb250ZW50IiwiZGVsZXRlVGFza3NCdG4iLCJkZWxldGVUYXNrcyIsImFsbFRhc2tDaGVja2VkIiwicXVlcnlTZWxlY3RvckFsbCIsImxlbmd0aCIsImZvckVhY2giLCJpdGVtIiwicGFyZW50RWxlbWVudCIsImNoYXJ0UmVmcmVzaCIsInRhc2tDb3VudCIsImZvcm1BZGRUYXNrIiwidG9kb0xpc3QiLCJjcmVhdGVUYXNrIiwiaW5wdXRWYWx1ZSIsInRhc2siLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwibGFiZWwiLCJodG1sRm9yIiwiY2hlY2tib3hEb25lIiwidHlwZSIsImlkIiwiY2hlY2JveENoYW5nZUV2ZW50IiwidGFza1RleHQiLCJjaGVja2JveFN0YXIiLCJiYWNrZ3JvdW5kQW5pbWF0aW9uIiwiYXBwZW5kQ2hpbGQiLCJhZGRUYXNrIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImlucHV0IiwidGFyZ2V0IiwidmFsdWUiLCJjaGFydCIsInRhc2tEb25lTnVtZXJEaXNwbGF5IiwiYWxsVGFza051bWJlckRpc3BsYXkiLCJ0YXNrRG9uZUNvdW50IiwidGFza0RvbmVQZXJjZW50YWdlIiwiYmFja2dyb3VuZCIsImNvbmNhdCIsImNoZWNrYm94ZXMiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJlbGVtZW50IiwiZGF0ZURpc3BsYXkiLCJmb3JtYXREYXRlIiwiZGF0ZSIsImRheSIsImdldERhdGUiLCJtb250aEluZGV4IiwiZ2V0TW9udGgiLCJnZXREYXkiLCJEYXRlIiwic2V0SW50ZXJ2YWwiXSwibWFwcGluZ3MiOiJBQUFBLGFDQUEsSUFBTUEsUUFBVUMsU0FBU0MsY0FBYyxtQkFDakNDLFlBQWNGLFNBQVNDLGNBQWMsZ0NBQ3JDRSxXQUFhSCxTQUFTQyxjQUFjLCtCQUVwQ0csbUJBQXFCLFNBQUNDLEdBQ3hCSCxZQUFZSSxVQUFVQyxJQUFJLHFCQUMxQkosV0FBV0csVUFBVUMsSUFBSSxvQkFDekJMLFlBQVlJLFVBQVVFLE9BQU8sb0JBQzdCTCxXQUFXRyxVQUFVRSxPQUFPLG9CQUcxQkMsa0JBQW9CLFNBQUNKLEdBQ3ZCSCxZQUFZSSxVQUFVRSxPQUFPLHFCQUM3QkwsV0FBV0csVUFBVUUsT0FBTyxvQkFDNUJOLFlBQVlJLFVBQVVDLElBQUksb0JBQzFCSixXQUFXRyxVQUFVQyxJQUFJLG9CQUc3QlIsUUFBUVcsaUJBQWlCLFlBQWFOLG9CQUN0Q0wsUUFBUVcsaUJBQWlCLFdBQVlELG1CQ25CckMsSUFBTUUsWUFBY1gsU0FBU0MsY0FBYyx3QkFDckNXLGNBQWdCWixTQUFTQyxjQUFjLGFBR3ZDWSxTQUFXLFdBQ2JGLFlBQVlHLGdCQUFnQixhQUNnQixHQUF6Q0gsWUFBWUksYUFBYSxjQUN4QkgsY0FBY0ksTUFBTUMsVUFBWSxPQUNoQ04sWUFBWU8s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USxVQUFXLFFBQy9CLFdBQVksYUFBYyxlQUMxQixZQUFhLFdBTzJDRSxHQUc5REwsWUFBWTVDLFlBQWM2QyxXQUFXLElBQUlPLE1BRXpDQyxZQUFZLFdBQ1JULFlBQVk1QyxZQUFjNkMsV0FBVyxJQUFJTyxPQUMxQyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIiLCJjb25zdCBidG5Eb25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG9saXN0X19kb25lJyk7XHJcbmNvbnN0IGJpY2Vwc1JpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG9saXN0X19kb25lLXJpZ2h0LWJpY2VwcycpO1xyXG5jb25zdCBiaWNlcHNMZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG9saXN0X19kb25lLWxlZnQtYmljZXBzJyk7XHJcblxyXG5jb25zdCBtb3VzZU92ZXJBbmltYXRpb24gPSAoZSkgPT57XHJcbiAgICBiaWNlcHNSaWdodC5jbGFzc0xpc3QuYWRkKCdiaWNlcHMtcmlnaHQtb3ZlcicpO1xyXG4gICAgYmljZXBzTGVmdC5jbGFzc0xpc3QuYWRkKCdiaWNlcHMtbGVmdC1vdmVyJyk7XHJcbiAgICBiaWNlcHNSaWdodC5jbGFzc0xpc3QucmVtb3ZlKCdiaWNlcHMtcmlnaHQtb3V0Jyk7XHJcbiAgICBiaWNlcHNMZWZ0LmNsYXNzTGlzdC5yZW1vdmUoJ2JpY2Vwcy1sZWZ0LW91dCcpO1xyXG59XHJcblxyXG5jb25zdCBtb3VzZU91dEFuaW1hdGlvbiA9IChlKSA9PntcclxuICAgIGJpY2Vwc1JpZ2h0LmNsYXNzTGlzdC5yZW1vdmUoJ2JpY2Vwcy1yaWdodC1vdmVyJyk7XHJcbiAgICBiaWNlcHNMZWZ0LmNsYXNzTGlzdC5yZW1vdmUoJ2JpY2Vwcy1sZWZ0LW92ZXInKTtcclxuICAgIGJpY2Vwc1JpZ2h0LmNsYXNzTGlzdC5hZGQoJ2JpY2Vwcy1yaWdodC1vdXQnKTtcclxuICAgIGJpY2Vwc0xlZnQuY2xhc3NMaXN0LmFkZCgnYmljZXBzLWxlZnQtb3V0Jyk7XHJcbn1cclxuXHJcbmJ0bkRvbmUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgbW91c2VPdmVyQW5pbWF0aW9uKTtcclxuYnRuRG9uZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIG1vdXNlT3V0QW5pbWF0aW9uKTsiLCJjb25zdCBidG5TaG93TW9yZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvbGlzdF9fc2hvdy1tb3JlJyk7XHJcbmNvbnN0IHRvZG9saXN0UGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kb2xpc3QnKTtcclxuXHJcblxyXG5jb25zdCBzaG93TW9yZSA9ICgpID0+e1xyXG4gICAgYnRuU2hvd01vcmUudG9nZ2xlQXR0cmlidXRlKFwiaXNTaG93aW5nXCIpO1xyXG4gICAgaWYoYnRuU2hvd01vcmUuaGFzQXR0cmlidXRlKFwiaXNTaG93aW5nXCIpID09IHRydWUpe1xyXG4gICAgICAgIHRvZG9saXN0UGFuZWwuc3R5bGUubWF4SGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgYnRuU2hvd01vcmUudGV4dENvbnRlbnQgPSBcInBva2F6IG1uaWVqXCI7XHJcbiAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICB0b2RvbGlzdFBhbmVsLnN0eWxlLm1heEhlaWdodCA9IFwiNDU1cHhcIjtcclxuICAgICAgICBidG5TaG93TW9yZS50ZXh0Q29udGVudCA9IFwicG9rYXogd2llY2VqXCI7XHJcbiAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IFwiMTAwdmhcIjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgXHJcbn1cclxuXHJcbmJ0blNob3dNb3JlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd01vcmUpOyIsImNvbnN0IGRlbGV0ZVRhc2tzQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2RvbGlzdF9fZG9uZVwiKTtcclxuXHJcbmNvbnN0IGRlbGV0ZVRhc2tzID0gKCkgPT57XHJcbiAgICBjb25zdCBhbGxUYXNrQ2hlY2tlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG9kb2xpc3RfX3Rhc2sgLnRvZG9saXN0X19jaGVja2JveC1kb25lOmNoZWNrZWRcIik7XHJcbiAgICBcclxuICAgIGlmKGFsbFRhc2tDaGVja2VkLmxlbmd0aCA+IDApe1xyXG4gICAgICAgIGFsbFRhc2tDaGVja2VkLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgaXRlbS5wYXJlbnRFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGNoYXJ0UmVmcmVzaCgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5kZWxldGVUYXNrc0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZGVsZXRlVGFza3MpO1xyXG5cclxuIiwiY29uc3QgdGFza0NvdW50ID0gKCkgPT57XHJcbiAgICBjb25zdCB0YXNrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG9kb2xpc3RfX3Rhc2tcIik7XHJcbiAgICByZXR1cm4gdGFza3MubGVuZ3RoO1xyXG59IiwiY29uc3QgZm9ybUFkZFRhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kb2xpc3RfX2Zvcm0tYWRkLXRhc2snKTtcclxuY29uc3QgdG9kb0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kb2xpc3QnKTtcclxuXHJcbmNvbnN0IGNyZWF0ZVRhc2sgPSAoaW5wdXRWYWx1ZSkgPT57XHJcbiAgICBjb25zdCB0YXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgIHRhc2suY2xhc3NOYW1lID0gXCJ0b2RvbGlzdF9fdGFza1wiO1xyXG5cclxuICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcclxuICAgIGxhYmVsLmh0bWxGb3IgPSBcInRhc2stXCIgKyAodGFza0NvdW50KCkgKyAxKTtcclxuICAgIGxhYmVsLmNsYXNzTmFtZSA9IFwidG9kb2xpc3RfdGFzay1sYWJlbFwiO1xyXG5cclxuICAgIGNvbnN0IGNoZWNrYm94RG9uZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICBjaGVja2JveERvbmUudHlwZSA9IFwiY2hlY2tib3hcIjtcclxuICAgIGNoZWNrYm94RG9uZS5jbGFzc05hbWUgPSBcInRvZG9saXN0X19jaGVja2JveC1kb25lXCI7XHJcbiAgICBjaGVja2JveERvbmUuaWQgPSBcInRhc2stXCIgKyAodGFza0NvdW50KCkgKyAxKTtcclxuICAgIGNoZWNrYm94RG9uZS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGNoZWNib3hDaGFuZ2VFdmVudCk7XHJcblxyXG4gICAgY29uc3QgdGFza1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICB0YXNrVGV4dC5jbGFzc05hbWUgPSBcInRvZG9saXN0X190YXNrLXRleHRcIjtcclxuICAgIHRhc2tUZXh0LnRleHRDb250ZW50ID0gaW5wdXRWYWx1ZTtcclxuXHJcbiAgICBjb25zdCBjaGVja2JveFN0YXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgY2hlY2tib3hTdGFyLnR5cGUgPSBcImNoZWNrYm94XCI7XHJcbiAgICBjaGVja2JveFN0YXIuY2xhc3NOYW1lID0gXCJ0b2RvbGlzdF9fY2hlY2tib3gtc3RhclwiO1xyXG5cclxuICAgIGNvbnN0IGJhY2tncm91bmRBbmltYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGJhY2tncm91bmRBbmltYXRpb24uY2xhc3NOYW1lID0gXCJjaGVjYm94LWRvbmVfYmFja2dyb3VuZF9hbmltYXRpb25cIjtcclxuXHJcbiAgICB0YXNrLmFwcGVuZENoaWxkKGxhYmVsKTtcclxuICAgIHRhc2suYXBwZW5kQ2hpbGQoY2hlY2tib3hEb25lKTtcclxuICAgIHRhc2suYXBwZW5kQ2hpbGQodGFza1RleHQpO1xyXG4gICAgdGFzay5hcHBlbmRDaGlsZChjaGVja2JveFN0YXIpO1xyXG4gICAgdGFzay5hcHBlbmRDaGlsZChiYWNrZ3JvdW5kQW5pbWF0aW9uKTtcclxuXHJcbiAgICByZXR1cm4gdGFzaztcclxufTtcclxuXHJcbmNvbnN0IGFkZFRhc2sgPSAoKSA9PntcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb25zdCBpbnB1dCA9IGV2ZW50LnRhcmdldC5xdWVyeVNlbGVjdG9yKCcudG9kb2xpc3RfX2FkZC10YXNrJyk7XHJcbiAgICBpZihpbnB1dC52YWx1ZSA9PT0gXCJcIil7IHJldHVybjsgfTtcclxuICAgIGNvbnN0IHRhc2sgPSBjcmVhdGVUYXNrKGlucHV0LnZhbHVlKTtcclxuICAgIHRvZG9MaXN0LmFwcGVuZENoaWxkKHRhc2spO1xyXG4gICAgaW5wdXQudmFsdWUgPSBcIlwiO1xyXG4gICAgY2hhcnRSZWZyZXNoKCk7XHJcbn07XHJcblxyXG5mb3JtQWRkVGFzay5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhZGRUYXNrKTsiLCJjb25zdCBjaGFydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvbGlzdF9fbGluZS1kb25lLXBlcmNlbnRhZ2UnKTtcclxuY29uc3QgdGFza0RvbmVOdW1lckRpc3BsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kb2xpc3RfX2NvdW50LWRvbmUtdGFzaycpOyBcclxuY29uc3QgYWxsVGFza051bWJlckRpc3BsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kb2xpc3RfX2NvdW50LWFsbC10YXNrJyk7XHJcblxyXG5jb25zdCBjaGFydFJlZnJlc2ggPSAoKSA9PiB7XHJcbiAgICBjb25zdCB0YXNrQ291bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudG9kb2xpc3RfX3Rhc2snKS5sZW5ndGg7XHJcbiAgICBjb25zdCB0YXNrRG9uZUNvdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRvZG9saXN0X19jaGVja2JveC1kb25lOmNoZWNrZWQnKS5sZW5ndGg7XHJcbiAgICBjb25zdCB0YXNrRG9uZVBlcmNlbnRhZ2UgPSAgdGFza0RvbmVDb3VudCAvIHRhc2tDb3VudCAqIDEwMDtcclxuICAgIHRhc2tEb25lTnVtZXJEaXNwbGF5LnRleHRDb250ZW50ID0gdGFza0RvbmVDb3VudDtcclxuICAgIGFsbFRhc2tOdW1iZXJEaXNwbGF5LnRleHRDb250ZW50ID0gdGFza0NvdW50O1xyXG5cclxuICAgIGlmKHRhc2tDb3VudCA8PSAwKXtcclxuICAgICAgICBjaGFydC5zdHlsZS5iYWNrZ3JvdW5kID0gYGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgIzY4ZDM5MSAwJSwgIzY4ZDM5MSAwJSwgI2RhZGFkYSAwJSwgI2RhZGFkYSAxMDAlKWA7XHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIGNoYXJ0LnN0eWxlLmJhY2tncm91bmQgPSBgbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAjNjhkMzkxIDAlLCAjNjhkMzkxICR7dGFza0RvbmVQZXJjZW50YWdlfSUsICNkYWRhZGEgJHt0YXNrRG9uZVBlcmNlbnRhZ2V9JSwgI2RhZGFkYSAxMDAlKWA7XHJcbiAgICB9XHJcbiAgICBcclxufTtcclxuXHJcbmNoYXJ0UmVmcmVzaCgpOyIsImNvbnN0IGNoZWNrYm94ZXMgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRvZG9saXN0X19jaGVja2JveC1kb25lJyldO1xyXG5cclxuY29uc3QgY2hlY2JveENoYW5nZUV2ZW50ID0gKCkgPT57XHJcbiAgICBjaGFydFJlZnJlc2goKTtcclxufTtcclxuXHJcbmNoZWNrYm94ZXMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBjaGVjYm94Q2hhbmdlRXZlbnQpO1xyXG59KTtcclxuIiwiY29uc3QgZGF0ZURpc3BsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kb2xpc3RfX2N1cnJlbnQtdGltZScpO1xyXG5cclxuZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlKSB7XHJcbiAgICBjb25zdCBkYXlOYW1lcyA9IFtcclxuICAgICAgICBcIlBvbmllZHppYcWCZWtcIiwgXCJXdG9yZWtcIixcclxuICAgICAgICBcIsWacm9kYVwiLCBcIkN6d2FydGVrXCIsXHJcbiAgICAgICAgXCJQacSFdGVrXCIsIFwiU29ib3RhXCIsXHJcbiAgICAgICAgXCJOaWVkemllbGFcIlxyXG4gICAgXTtcclxuXHJcbiAgICBjb25zdCBtb250aE5hbWVzID0gW1xyXG4gICAgICBcIlN0eWN6bmlhXCIsIFwiTHV0eVwiLCBcIk1hcmNhXCIsXHJcbiAgICAgIFwiS3dpZXRuaWFcIiwgXCJNYWphXCIsIFwiQ3plcndjYVwiLCBcIkxpcGNhXCIsXHJcbiAgICAgIFwiU2llcnBuaWFcIiwgXCJXcnplc2llbmlhXCIsIFwiUGHFumR6aWVybmlrYVwiLFxyXG4gICAgICBcIkxpc3RvcGFkYVwiLCBcIkdydWRuaWFcIlxyXG4gICAgXTtcclxuICBcclxuICAgIGNvbnN0IGRheSA9IGRhdGUuZ2V0RGF0ZSgpO1xyXG4gICAgY29uc3QgbW9udGhJbmRleCA9IGRhdGUuZ2V0TW9udGgoKTtcclxuICAgIGNvbnN0IGRheUluZGV4ID0gZGF0ZS5nZXREYXkoKSAtIDE7XHJcbiAgXHJcbiAgICByZXR1cm4gIGRheU5hbWVzW2RheUluZGV4XSArIFwiIFwiICsgZGF5ICsgXCIgXCIgKyBtb250aE5hbWVzW21vbnRoSW5kZXhdO1xyXG59XHJcblxyXG5kYXRlRGlzcGxheS50ZXh0Q29udGVudCA9IGZvcm1hdERhdGUobmV3IERhdGUoKSk7XHJcblxyXG5zZXRJbnRlcnZhbChmdW5jdGlvbigpe1xyXG4gICAgZGF0ZURpc3BsYXkudGV4dENvbnRlbnQgPSBmb3JtYXREYXRlKG5ldyBEYXRlKCkpO1xyXG59LCA2MDAwMCk7XHJcblxyXG4iXX0=
