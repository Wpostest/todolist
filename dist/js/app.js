"use strict";var btnDone=document.querySelector(".todolist__done"),bicepsRight=document.querySelector(".todolist__done-right-biceps"),bicepsLeft=document.querySelector(".todolist__done-left-biceps"),mouseOverAnimation=function(e){bicepsRight.classList.add("biceps-right-over"),bicepsLeft.classList.add("biceps-left-over"),bicepsRight.classList.remove("biceps-right-out"),bicepsLeft.classList.remove("biceps-left-out")},mouseOutAnimation=function(e){bicepsRight.classList.remove("biceps-right-over"),bicepsLeft.classList.remove("biceps-left-over"),bicepsRight.classList.add("biceps-right-out"),bicepsLeft.classList.add("biceps-left-out")};btnDone.addEventListener("mouseover",mouseOverAnimation),btnDone.addEventListener("mouseout",mouseOutAnimation);var btnShowMore=document.querySelector(".todolist__show-more"),todolistPanel=document.querySelector(".todolist"),showMore=function(){btnShowMore.toggleAttribute("isShowing"),1==btnShowMore.hasAttribute("isShowing")?(todolistPanel.style.maxHeight="100%",btnShowMore.textContent="pokaz mniej"):(todolistPanel.style.maxHeight="455px",btnShowMore.textContent="pokaz wiecej")};btnShowMore.addEventListener("click",showMore);var currentTasks=[],loadCurrentTasks=function(){document.querySelectorAll(".todolist__task").forEach(function(e,t){currentTasks[t]=e.cloneNode(!0)})},addToCurrentTasks=function(e){currentTasks.push(e.cloneNode(!0))},removeFromCurrentTasks=function(e){for(var t=e.querySelector(".todolist__checkbox-done").id,o=-1,a=0;a<taskCount();a++){if(currentTasks[a].querySelector(".todolist__checkbox-done").id==t){o=a;break}}-1<o&&currentTasks.splice(o,1)};loadCurrentTasks();var deleteTasksBtn=document.querySelector(".todolist__done"),deleteTasks=function(){var e=document.querySelectorAll(".todolist__task .todolist__checkbox-done:checked");0<e.length&&(e.forEach(function(e){removeFromCurrentTasks(e.parentElement),e.parentElement.remove()}),chartRefresh(),realoadTags(),reloadTasks())};deleteTasksBtn.addEventListener("click",deleteTasks);var todolist=document.querySelector(".todolist"),reloadTasks=function(){document.querySelectorAll(".todolist__task").forEach(function(e){e.remove()}),currentTasks.forEach(function(e){todolist.appendChild(e.cloneNode(!0))})},input=document.querySelector(".todolist__search"),searchingTask=function(e){var n=this.value.toLowerCase(),s=this.value.length;console.log(s);var t=currentTasks,c="";0<currentTasks.length&&((t=t.filter(function(e){return e.querySelector(".todolist__task-text").textContent.toLowerCase().includes(n)})).forEach(function(e){for(var t=e.querySelector(".todolist__task-text"),o=t.textContent,a=t.textContent.length,r=0;r<a;r++)o.substring(r,r+s).toLowerCase()==n&&0<s?(c+="<span>"+o.substring(r,r+s)+"</span>",r+=s-1):c+=o[r];c+="\n"}),console.log(c))};input.addEventListener("input",searchingTask);var taskCount=function(){return currentTasks.length},realoadTags=function(){var e=document.querySelectorAll(".todolist__task");0<e.length&&(e.forEach(function(e,t){var o=e.querySelector(".todolist_task-label"),a=e.querySelector(".todolist__checkbox-done");o.htmlFor="task-"+(t+1),a.id="task-"+(t+1)}),currentTasks.forEach(function(e,t){var o=e.querySelector(".todolist_task-label"),a=e.querySelector(".todolist__checkbox-done");o.htmlFor="task-"+(t+1),a.id="task-"+(t+1)}))},formAddTask=document.querySelector(".todolist__form-add-task"),todoList=document.querySelector(".todolist"),createTask=function(e){var t=document.createElement("li");t.className="todolist__task";var o=document.createElement("label");o.htmlFor="task-"+(taskCount()+1),o.className="todolist_task-label";var a=document.createElement("input");a.type="checkbox",a.className="todolist__checkbox-done",a.id="task-"+(taskCount()+1),a.addEventListener("change",checboxChangeEvent);var r=document.createElement("span");r.className="todolist__task-text",r.textContent=e;var n=document.createElement("input");n.type="checkbox",n.className="todolist__checkbox-star";var s=document.createElement("div");return s.className="checbox-done_background_animation",t.appendChild(o),t.appendChild(a),t.appendChild(r),t.appendChild(n),t.appendChild(s),t},addTask=function(){event.preventDefault();var e=event.target.querySelector(".todolist__add-task");if(""!==e.value){var t=createTask(e.value);e.value="",chartRefresh(),addToCurrentTasks(t),reloadTasks()}};formAddTask.addEventListener("submit",addTask);var chart=document.querySelector(".todolist__line-done-percentage"),taskDoneNumerDisplay=document.querySelector(".todolist__count-done-task"),allTaskNumberDisplay=document.querySelector(".todolist__count-all-task"),chartRefresh=function(){var e=document.querySelectorAll(".todolist__task").length,t=document.querySelectorAll(".todolist__checkbox-done:checked").length,o=t/e*100;taskDoneNumerDisplay.textContent=t,allTaskNumberDisplay.textContent=e,chart.style.background=e<=0?"linear-gradient(to right, #68d391 0%, #68d391 0%, #dadada 0%, #dadada 100%)":"linear-gradient(to right, #68d391 0%, #68d391 ".concat(o,"%, #dadada ").concat(o,"%, #dadada 100%)")};function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}chartRefresh();var checkboxes=_toConsumableArray(document.querySelectorAll(".todolist__checkbox-done")),checboxChangeEvent=function(){chartRefresh()};checkboxes.forEach(function(e){e.addEventListener("change",checboxChangeEvent)});var dateDisplay=document.querySelector(".todolist__current-time");function formatDate(e){var t=e.getDate(),o=e.getMonth();return["Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota","Niedziela"][e.getDay()-1]+" "+t+" "+["Stycznia","Luty","Marca","Kwietnia","Maja","Czerwca","Lipca","Sierpnia","Wrzesienia","Października","Listopada","Grudnia"][o]}dateDisplay.textContent=formatDate(new Date),setInterval(function(){dateDisplay.textContent=formatDate(new Date)},6e4);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL2FwcC5qcyIsImpzL2NvbXBvbmVudHMvYmljZXBzLWFuaW1hdGlvbi5qcyIsImpzL2NvbXBvbmVudHMvYnRuLXNob3ctbW9yZS5qcyIsImpzL2NvbXBvbmVudHMvY3VycmVudC10YXNrcy1hcnJheS5qcyIsImpzL2NvbXBvbmVudHMvZGVsZXRlLXRhc2tzLmpzIiwianMvY29tcG9uZW50cy9yZWxvYWRfdGFza3MuanMiLCJqcy9jb21wb25lbnRzL3NlYXJjaC10YXNrLmpzIiwianMvY29tcG9uZW50cy90YXNrcy1jb3VudC5qcyIsImpzL2NvbXBvbmVudHMvdGFza19yZWxvYWRfdGFncy5qcyIsImpzL2NvbXBvbmVudHMvdG9kb2xpc3RfYWRkX3Rhc2suanMiLCJqcy9jb21wb25lbnRzL3RvZG9saXN0X2NoYXJ0LmpzIiwianMvY29tcG9uZW50cy90b2RvbGlzdF9jaGVja190YXNrX2V2ZW50LmpzIiwianMvY29tcG9uZW50cy90b2RvbGlzdF9kYXRlLmpzIl0sIm5hbWVzIjpbImJ0bkRvbmUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJiaWNlcHNSaWdodCIsImJpY2Vwc0xlZnQiLCJtb3VzZU92ZXJBbmltYXRpb24iLCJlIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwibW91c2VPdXRBbmltYXRpb24iLCJhZGRFdmVudExpc3RlbmVyIiwiYnRuU2hvd01vcmUiLCJ0b2RvbGlzdFBhbmVsIiwic2hvd01vcmUiLCJ0b2dnbGVBdHRyaWJ1dGUiLCJoYXNBdHRyaWJ1dGUiLCJzdHlsZSIsIm1heEhlaWdodCIsInRleHRDb250ZW50IiwiY3VycmVudFRhc2tzIiwibG9hZEN1cnJlbnRUYXNrcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiaXRlbSIsImluZGV4IiwiY2xvbmVOb2RlIiwiYWRkVG9DdXJyZW50VGFza3MiLCJ0YXNrIiwicHVzaCIsInJlbW92ZUZyb21DdXJyZW50VGFza3MiLCJ0YXNrTnVtYmVyIiwiaWQiLCJpIiwidGFza0NvdW50Iiwic3BsaWNlIiwiZGVsZXRlVGFza3NCdG4iLCJkZWxldGVUYXNrcyIsImFsbFRhc2tDaGVja2VkIiwibGVuZ3RoIiwicGFyZW50RWxlbWVudCIsImNoYXJ0UmVmcmVzaCIsInJlYWxvYWRUYWdzIiwicmVsb2FkVGFza3MiLCJ0b2RvbGlzdCIsImFwcGVuZENoaWxkIiwiaW5wdXQiLCJzZWFyY2hpbmdUYXNrIiwiZXZlbnQiLCJpbnB1dFRleHQiLCJ0aGlzIiwidmFsdWUiLCJ0b0xvd2VyQ2FzZSIsImlucHV0VGV4dExlbmd0aCIsImNvbnNvbGUiLCJsb2ciLCJmaWx0cmVkVGFza3MiLCJ0YXNrVGV4dEh0bWwiLCJmaWx0ZXIiLCJpbmNsdWRlcyIsInRhc2tUZXh0RWxlbWVudCIsInRhc2tUZXh0IiwidGFza1RleHRMZW5ndGgiLCJzdWJzdHJpbmciLCJ0YXNrcyIsImxhYmVsIiwiaHRtbEZvciIsImZvcm1BZGRUYXNrIiwidG9kb0xpc3QiLCJjcmVhdGVUYXNrIiwiaW5wdXRWYWx1ZSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJjaGVja2JveERvbmUiLCJ0eXBlIiwiY2hlY2JveENoYW5nZUV2ZW50IiwiY2hlY2tib3hTdGFyIiwiYmFja2dyb3VuZEFuaW1hdGlvbiIsImFkZFRhc2siLCJwcmV2ZW50RGVmYXVsdCIsInRhcmdldCIsImNoYXJ0IiwidGFza0RvbmVOdW1lckRpc3BsYXkiLCJhbGxUYXNrTnVtYmVyRGlzcGxheSIsInRhc2tEb25lQ291bnQiLCJ0YXNrRG9uZVBlcmNlbnRhZ2UiLCJiYWNrZ3JvdW5kIiwiY29uY2F0IiwiY2hlY2tib3hlcyIsIl90b0NvbnN1bWFibGVBcnJheSIsImVsZW1lbnQiLCJkYXRlRGlzcGxheSIsImZvcm1hdERhdGUiLCJkYXRlIiwiZGF5IiwiZ2V0RGF0ZSIsIm1vbnRoSW5kZXgiLCJnZXRNb250aCIsImdldERheSIsIkRhdGUiLCJzZXRJbnRlcnZhbCJdLCJtYXBwaW5ncyI6IkFBQUEsYUNBQSxJQUFNQSxRQUFVQyxTQUFTQyxj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dkJsQyxnQkFHSitDLFdBQVdqRSxRQUFRLFNBQUFtRSxHQUNmQSxFQUFRL0UsaUJBQWlCLFNBQVVnRSxzQkNQdkMsSUFBTWdCLFlBQWMxRixTQUFTQyxjQUFjLDJCQUUzQyxTQUFTMEYsV0FBV0MsR0FDaEIsSUFjTUMsRUFBTUQsRUFBS0UsVUFDWEMsRUFBYUgsRUFBS0ksV0FHeEIsTUFsQmlCLENBQ2IsZUFBZ0IsU0FDaEIsUUFBUyxXQUNULFNBQVUsU0FDVixhQVlhSixFQUFLSyxTQUFXLEdBRUosSUFBTUosRUFBTSxJQVh0QixDQUNqQixXQUFZLE9BQVEsUUFDcEIsV0FBWSxPQUFRLFVBQVcsUUFDL0IsV0FBWSxhQUFjLGVBQzFCLFlBQWEsV0FPMkNFLEdBRzlETCxZQUFZeEUsWUFBY3lFLFdBQVcsSUFBSU8sTUFFekNDLFlBQVksV0FDUlQsWUFBWXhFLFlBQWN5RSxXQUFXLElBQUlPLE9BQzFDIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiIsImNvbnN0IGJ0bkRvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kb2xpc3RfX2RvbmUnKTtcclxuY29uc3QgYmljZXBzUmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kb2xpc3RfX2RvbmUtcmlnaHQtYmljZXBzJyk7XHJcbmNvbnN0IGJpY2Vwc0xlZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kb2xpc3RfX2RvbmUtbGVmdC1iaWNlcHMnKTtcclxuXHJcbmNvbnN0IG1vdXNlT3ZlckFuaW1hdGlvbiA9IChlKSA9PntcclxuICAgIGJpY2Vwc1JpZ2h0LmNsYXNzTGlzdC5hZGQoJ2JpY2Vwcy1yaWdodC1vdmVyJyk7XHJcbiAgICBiaWNlcHNMZWZ0LmNsYXNzTGlzdC5hZGQoJ2JpY2Vwcy1sZWZ0LW92ZXInKTtcclxuICAgIGJpY2Vwc1JpZ2h0LmNsYXNzTGlzdC5yZW1vdmUoJ2JpY2Vwcy1yaWdodC1vdXQnKTtcclxuICAgIGJpY2Vwc0xlZnQuY2xhc3NMaXN0LnJlbW92ZSgnYmljZXBzLWxlZnQtb3V0Jyk7XHJcbn1cclxuXHJcbmNvbnN0IG1vdXNlT3V0QW5pbWF0aW9uID0gKGUpID0+e1xyXG4gICAgYmljZXBzUmlnaHQuY2xhc3NMaXN0LnJlbW92ZSgnYmljZXBzLXJpZ2h0LW92ZXInKTtcclxuICAgIGJpY2Vwc0xlZnQuY2xhc3NMaXN0LnJlbW92ZSgnYmljZXBzLWxlZnQtb3ZlcicpO1xyXG4gICAgYmljZXBzUmlnaHQuY2xhc3NMaXN0LmFkZCgnYmljZXBzLXJpZ2h0LW91dCcpO1xyXG4gICAgYmljZXBzTGVmdC5jbGFzc0xpc3QuYWRkKCdiaWNlcHMtbGVmdC1vdXQnKTtcclxufVxyXG5cclxuYnRuRG9uZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBtb3VzZU92ZXJBbmltYXRpb24pO1xyXG5idG5Eb25lLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgbW91c2VPdXRBbmltYXRpb24pOyIsImNvbnN0IGJ0blNob3dNb3JlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG9saXN0X19zaG93LW1vcmUnKTtcclxuY29uc3QgdG9kb2xpc3RQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvbGlzdCcpO1xyXG5cclxuXHJcbmNvbnN0IHNob3dNb3JlID0gKCkgPT57XHJcbiAgICBidG5TaG93TW9yZS50b2dnbGVBdHRyaWJ1dGUoXCJpc1Nob3dpbmdcIik7XHJcbiAgICBpZihidG5TaG93TW9yZS5oYXNBdHRyaWJ1dGUoXCJpc1Nob3dpbmdcIikgPT0gdHJ1ZSl7XHJcbiAgICAgICAgdG9kb2xpc3RQYW5lbC5zdHlsZS5tYXhIZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICBidG5TaG93TW9yZS50ZXh0Q29udGVudCA9IFwicG9rYXogbW5pZWpcIjtcclxuICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIHRvZG9saXN0UGFuZWwuc3R5bGUubWF4SGVpZ2h0ID0gXCI0NTVweFwiO1xyXG4gICAgICAgIGJ0blNob3dNb3JlLnRleHRDb250ZW50ID0gXCJwb2theiB3aWVjZWpcIjtcclxuICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gXCIxMDB2aFwiO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBcclxufVxyXG5cclxuYnRuU2hvd01vcmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93TW9yZSk7IiwibGV0IGN1cnJlbnRUYXNrcyA9IFtdO1xyXG5cclxuY29uc3QgbG9hZEN1cnJlbnRUYXNrcyA9IGZ1bmN0aW9uKCl7XHJcbiAgICBjb25zdCB0YXNrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG9kb2xpc3RfX3Rhc2tcIik7XHJcblxyXG4gICAgdGFza3MuZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpbmRleCl7XHJcbiAgICAgICAgY3VycmVudFRhc2tzW2luZGV4XSA9IGl0ZW0uY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmNvbnN0IGFkZFRvQ3VycmVudFRhc2tzID0gZnVuY3Rpb24odGFzayl7XHJcbiAgICBjdXJyZW50VGFza3MucHVzaCh0YXNrLmNsb25lTm9kZSh0cnVlKSk7XHJcbn1cclxuXHJcbmNvbnN0IHJlbW92ZUZyb21DdXJyZW50VGFza3MgPSBmdW5jdGlvbih0YXNrKXtcclxuICAgIGNvbnN0IHRhc2tOdW1iZXIgPSB0YXNrLnF1ZXJ5U2VsZWN0b3IoXCIudG9kb2xpc3RfX2NoZWNrYm94LWRvbmVcIikuaWQ7XHJcbiAgICBsZXQgaW5kZXggPSAtMTtcclxuXHJcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGFza0NvdW50KCk7IGkrKyl7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFRhc2tOdW1iZXIgPSBjdXJyZW50VGFza3NbaV0ucXVlcnlTZWxlY3RvcihcIi50b2RvbGlzdF9fY2hlY2tib3gtZG9uZVwiKS5pZDtcclxuXHJcbiAgICAgICAgaWYoY3VycmVudFRhc2tOdW1iZXIgPT0gdGFza051bWJlcil7XHJcbiAgICAgICAgICAgIGluZGV4ID0gaTtcclxuICAgICAgICAgICAgYnJlYWs7IFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZihpbmRleCA+IC0xKXtcclxuICAgICAgICBjdXJyZW50VGFza3Muc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxufVxyXG5cclxubG9hZEN1cnJlbnRUYXNrcygpO1xyXG5cclxuIiwiY29uc3QgZGVsZXRlVGFza3NCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG9saXN0X19kb25lXCIpO1xyXG5cclxuY29uc3QgZGVsZXRlVGFza3MgPSAoKSA9PntcclxuICAgIGNvbnN0IGFsbFRhc2tDaGVja2VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50b2RvbGlzdF9fdGFzayAudG9kb2xpc3RfX2NoZWNrYm94LWRvbmU6Y2hlY2tlZFwiKTtcclxuXHJcbiAgICBpZihhbGxUYXNrQ2hlY2tlZC5sZW5ndGggPiAwKXtcclxuICAgICAgICBhbGxUYXNrQ2hlY2tlZC5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHJlbW92ZUZyb21DdXJyZW50VGFza3MoaXRlbS5wYXJlbnRFbGVtZW50KTtcclxuICAgICAgICAgICAgaXRlbS5wYXJlbnRFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGNoYXJ0UmVmcmVzaCgpO1xyXG4gICAgICAgIHJlYWxvYWRUYWdzKCk7XHJcbiAgICAgICAgcmVsb2FkVGFza3MoKTtcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbmRlbGV0ZVRhc2tzQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBkZWxldGVUYXNrcyk7XHJcblxyXG4iLCJjb25zdCB0b2RvbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kb2xpc3RcIik7XHJcblxyXG5jb25zdCByZWxvYWRUYXNrcyA9IGZ1bmN0aW9uKCl7XHJcbiAgICBjb25zdCB0YXNrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG9kb2xpc3RfX3Rhc2tcIik7XHJcblxyXG4gICAgdGFza3MuZm9yRWFjaChmdW5jdGlvbihpdGVtKXtcclxuICAgICAgICBpdGVtLnJlbW92ZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY3VycmVudFRhc2tzLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7XHJcbiAgICAgICAgdG9kb2xpc3QuYXBwZW5kQ2hpbGQoaXRlbS5jbG9uZU5vZGUodHJ1ZSkpO1xyXG4gICAgfSk7XHJcbn0iLCJjb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kb2xpc3RfX3NlYXJjaFwiKTtcclxuXHJcbmNvbnN0IHNlYXJjaGluZ1Rhc2sgPSBmdW5jdGlvbihldmVudCl7XHJcbiAgICBjb25zdCBpbnB1dFRleHQgPSB0aGlzLnZhbHVlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICBjb25zdCBpbnB1dFRleHRMZW5ndGggPSB0aGlzLnZhbHVlLmxlbmd0aDtcclxuICAgIGNvbnNvbGUubG9nKGlucHV0VGV4dExlbmd0aCk7XHJcbiAgICBsZXQgZmlsdHJlZFRhc2tzID0gY3VycmVudFRhc2tzO1xyXG4gICAgbGV0IHRhc2tUZXh0SHRtbCA9IFwiXCI7XHJcblxyXG4gICAgaWYoY3VycmVudFRhc2tzLmxlbmd0aCA+IDApe1xyXG4gICAgICAgIGZpbHRyZWRUYXNrcyA9IGZpbHRyZWRUYXNrcy5maWx0ZXIoZnVuY3Rpb24oaXRlbSl7IFxyXG4gICAgICAgICAgICBjb25zdCB0YXNrVGV4dEVsZW1lbnQgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoXCIudG9kb2xpc3RfX3Rhc2stdGV4dFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRhc2tUZXh0RWxlbWVudC50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGlucHV0VGV4dCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZpbHRyZWRUYXNrcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xyXG4gICAgICAgICAgICBjb25zdCB0YXNrVGV4dEVsZW1lbnQgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoXCIudG9kb2xpc3RfX3Rhc2stdGV4dFwiKTtcclxuICAgICAgICAgICAgY29uc3QgdGFza1RleHQgPSB0YXNrVGV4dEVsZW1lbnQudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhc2tUZXh0TGVuZ3RoID0gdGFza1RleHRFbGVtZW50LnRleHRDb250ZW50Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0YXNrVGV4dExlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIGlmKHRhc2tUZXh0LnN1YnN0cmluZyhpLCBpICsgaW5wdXRUZXh0TGVuZ3RoKS50b0xvd2VyQ2FzZSgpID09IGlucHV0VGV4dCAmJiAgaW5wdXRUZXh0TGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFza1RleHRIdG1sICs9IFwiPHNwYW4+XCIgKyB0YXNrVGV4dC5zdWJzdHJpbmcoaSwgaSArIGlucHV0VGV4dExlbmd0aCkgKyBcIjwvc3Bhbj5cIjtcclxuICAgICAgICAgICAgICAgICAgICBpICs9IGlucHV0VGV4dExlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRhc2tUZXh0SHRtbCArPSB0YXNrVGV4dFtpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGFza1RleHRIdG1sICs9IFwiXFxuXCI7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2codGFza1RleHRIdG1sKTtcclxuICAgIH1cclxufVxyXG5cclxuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIHNlYXJjaGluZ1Rhc2spOyIsImNvbnN0IHRhc2tDb3VudCA9ICgpID0+e1xyXG4gICAgcmV0dXJuIGN1cnJlbnRUYXNrcy5sZW5ndGg7XHJcbn0iLCJjb25zdCByZWFsb2FkVGFncyA9ICgpID0+e1xyXG4gICAgY29uc3QgdGFza3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRvZG9saXN0X190YXNrXCIpO1xyXG5cclxuICAgIGlmKHRhc2tzLmxlbmd0aCA+IDApe1xyXG4gICAgICAgIHRhc2tzLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gaXRlbS5xdWVyeVNlbGVjdG9yKFwiLnRvZG9saXN0X3Rhc2stbGFiZWxcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gaXRlbS5xdWVyeVNlbGVjdG9yKFwiLnRvZG9saXN0X19jaGVja2JveC1kb25lXCIpO1xyXG4gICAgICAgICAgICBsYWJlbC5odG1sRm9yID0gXCJ0YXNrLVwiICsgKGluZGV4ICsgMSk7XHJcbiAgICAgICAgICAgIGlucHV0LmlkID0gXCJ0YXNrLVwiICsgKGluZGV4ICsgMSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGN1cnJlbnRUYXNrcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IGl0ZW0ucXVlcnlTZWxlY3RvcihcIi50b2RvbGlzdF90YXNrLWxhYmVsXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9IGl0ZW0ucXVlcnlTZWxlY3RvcihcIi50b2RvbGlzdF9fY2hlY2tib3gtZG9uZVwiKTtcclxuICAgICAgICAgICAgbGFiZWwuaHRtbEZvciA9IFwidGFzay1cIiArIChpbmRleCArIDEpO1xyXG4gICAgICAgICAgICBpbnB1dC5pZCA9IFwidGFzay1cIiArIChpbmRleCArIDEpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiY29uc3QgZm9ybUFkZFRhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kb2xpc3RfX2Zvcm0tYWRkLXRhc2snKTtcclxuY29uc3QgdG9kb0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kb2xpc3QnKTtcclxuXHJcbmNvbnN0IGNyZWF0ZVRhc2sgPSAoaW5wdXRWYWx1ZSkgPT57XHJcbiAgICBjb25zdCB0YXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgIHRhc2suY2xhc3NOYW1lID0gXCJ0b2RvbGlzdF9fdGFza1wiO1xyXG5cclxuICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcclxuICAgIGxhYmVsLmh0bWxGb3IgPSBcInRhc2stXCIgKyAodGFza0NvdW50KCkgKyAxKTtcclxuICAgIGxhYmVsLmNsYXNzTmFtZSA9IFwidG9kb2xpc3RfdGFzay1sYWJlbFwiO1xyXG5cclxuICAgIGNvbnN0IGNoZWNrYm94RG9uZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICBjaGVja2JveERvbmUudHlwZSA9IFwiY2hlY2tib3hcIjtcclxuICAgIGNoZWNrYm94RG9uZS5jbGFzc05hbWUgPSBcInRvZG9saXN0X19jaGVja2JveC1kb25lXCI7XHJcbiAgICBjaGVja2JveERvbmUuaWQgPSBcInRhc2stXCIgKyAodGFza0NvdW50KCkgKyAxKTtcclxuICAgIGNoZWNrYm94RG9uZS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGNoZWNib3hDaGFuZ2VFdmVudCk7XHJcblxyXG4gICAgY29uc3QgdGFza1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICB0YXNrVGV4dC5jbGFzc05hbWUgPSBcInRvZG9saXN0X190YXNrLXRleHRcIjtcclxuICAgIHRhc2tUZXh0LnRleHRDb250ZW50ID0gaW5wdXRWYWx1ZTtcclxuXHJcbiAgICBjb25zdCBjaGVja2JveFN0YXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgY2hlY2tib3hTdGFyLnR5cGUgPSBcImNoZWNrYm94XCI7XHJcbiAgICBjaGVja2JveFN0YXIuY2xhc3NOYW1lID0gXCJ0b2RvbGlzdF9fY2hlY2tib3gtc3RhclwiO1xyXG5cclxuICAgIGNvbnN0IGJhY2tncm91bmRBbmltYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGJhY2tncm91bmRBbmltYXRpb24uY2xhc3NOYW1lID0gXCJjaGVjYm94LWRvbmVfYmFja2dyb3VuZF9hbmltYXRpb25cIjtcclxuXHJcbiAgICB0YXNrLmFwcGVuZENoaWxkKGxhYmVsKTtcclxuICAgIHRhc2suYXBwZW5kQ2hpbGQoY2hlY2tib3hEb25lKTtcclxuICAgIHRhc2suYXBwZW5kQ2hpbGQodGFza1RleHQpO1xyXG4gICAgdGFzay5hcHBlbmRDaGlsZChjaGVja2JveFN0YXIpO1xyXG4gICAgdGFzay5hcHBlbmRDaGlsZChiYWNrZ3JvdW5kQW5pbWF0aW9uKTtcclxuXHJcbiAgICByZXR1cm4gdGFzaztcclxufTtcclxuXHJcbmNvbnN0IGFkZFRhc2sgPSAoKSA9PntcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb25zdCBpbnB1dCA9IGV2ZW50LnRhcmdldC5xdWVyeVNlbGVjdG9yKCcudG9kb2xpc3RfX2FkZC10YXNrJyk7XHJcbiAgICBpZihpbnB1dC52YWx1ZSA9PT0gXCJcIil7IHJldHVybjsgfTtcclxuICAgIGNvbnN0IHRhc2sgPSBjcmVhdGVUYXNrKGlucHV0LnZhbHVlKTtcclxuICAgIC8vdG9kb0xpc3QuYXBwZW5kQ2hpbGQodGFzayk7XHJcbiAgICBpbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgICBjaGFydFJlZnJlc2goKTtcclxuICAgIGFkZFRvQ3VycmVudFRhc2tzKHRhc2spO1xyXG4gICAgcmVsb2FkVGFza3MoKTtcclxufTtcclxuXHJcbmZvcm1BZGRUYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFkZFRhc2spOyIsImNvbnN0IGNoYXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG9saXN0X19saW5lLWRvbmUtcGVyY2VudGFnZScpO1xyXG5jb25zdCB0YXNrRG9uZU51bWVyRGlzcGxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvbGlzdF9fY291bnQtZG9uZS10YXNrJyk7IFxyXG5jb25zdCBhbGxUYXNrTnVtYmVyRGlzcGxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvbGlzdF9fY291bnQtYWxsLXRhc2snKTtcclxuXHJcbmNvbnN0IGNoYXJ0UmVmcmVzaCA9ICgpID0+IHtcclxuICAgIGNvbnN0IHRhc2tDb3VudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50b2RvbGlzdF9fdGFzaycpLmxlbmd0aDtcclxuICAgIGNvbnN0IHRhc2tEb25lQ291bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudG9kb2xpc3RfX2NoZWNrYm94LWRvbmU6Y2hlY2tlZCcpLmxlbmd0aDtcclxuICAgIGNvbnN0IHRhc2tEb25lUGVyY2VudGFnZSA9ICB0YXNrRG9uZUNvdW50IC8gdGFza0NvdW50ICogMTAwO1xyXG4gICAgdGFza0RvbmVOdW1lckRpc3BsYXkudGV4dENvbnRlbnQgPSB0YXNrRG9uZUNvdW50O1xyXG4gICAgYWxsVGFza051bWJlckRpc3BsYXkudGV4dENvbnRlbnQgPSB0YXNrQ291bnQ7XHJcblxyXG4gICAgaWYodGFza0NvdW50IDw9IDApe1xyXG4gICAgICAgIGNoYXJ0LnN0eWxlLmJhY2tncm91bmQgPSBgbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAjNjhkMzkxIDAlLCAjNjhkMzkxIDAlLCAjZGFkYWRhIDAlLCAjZGFkYWRhIDEwMCUpYDtcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgY2hhcnQuc3R5bGUuYmFja2dyb3VuZCA9IGBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICM2OGQzOTEgMCUsICM2OGQzOTEgJHt0YXNrRG9uZVBlcmNlbnRhZ2V9JSwgI2RhZGFkYSAke3Rhc2tEb25lUGVyY2VudGFnZX0lLCAjZGFkYWRhIDEwMCUpYDtcclxuICAgIH1cclxuICAgIFxyXG59O1xyXG5cclxuY2hhcnRSZWZyZXNoKCk7IiwiY29uc3QgY2hlY2tib3hlcyA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudG9kb2xpc3RfX2NoZWNrYm94LWRvbmUnKV07XHJcblxyXG5jb25zdCBjaGVjYm94Q2hhbmdlRXZlbnQgPSAoKSA9PntcclxuICAgIGNoYXJ0UmVmcmVzaCgpO1xyXG59O1xyXG5cclxuY2hlY2tib3hlcy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGNoZWNib3hDaGFuZ2VFdmVudCk7XHJcbn0pO1xyXG4iLCJjb25zdCBkYXRlRGlzcGxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvbGlzdF9fY3VycmVudC10aW1lJyk7XHJcblxyXG5mdW5jdGlvbiBmb3JtYXREYXRlKGRhdGUpIHtcclxuICAgIGNvbnN0IGRheU5hbWVzID0gW1xyXG4gICAgICAgIFwiUG9uaWVkemlhxYJla1wiLCBcIld0b3Jla1wiLFxyXG4gICAgICAgIFwixZpyb2RhXCIsIFwiQ3p3YXJ0ZWtcIixcclxuICAgICAgICBcIlBpxIV0ZWtcIiwgXCJTb2JvdGFcIixcclxuICAgICAgICBcIk5pZWR6aWVsYVwiXHJcbiAgICBdO1xyXG5cclxuICAgIGNvbnN0IG1vbnRoTmFtZXMgPSBbXHJcbiAgICAgIFwiU3R5Y3puaWFcIiwgXCJMdXR5XCIsIFwiTWFyY2FcIixcclxuICAgICAgXCJLd2lldG5pYVwiLCBcIk1hamFcIiwgXCJDemVyd2NhXCIsIFwiTGlwY2FcIixcclxuICAgICAgXCJTaWVycG5pYVwiLCBcIldyemVzaWVuaWFcIiwgXCJQYcW6ZHppZXJuaWthXCIsXHJcbiAgICAgIFwiTGlzdG9wYWRhXCIsIFwiR3J1ZG5pYVwiXHJcbiAgICBdO1xyXG4gIFxyXG4gICAgY29uc3QgZGF5ID0gZGF0ZS5nZXREYXRlKCk7XHJcbiAgICBjb25zdCBtb250aEluZGV4ID0gZGF0ZS5nZXRNb250aCgpO1xyXG4gICAgY29uc3QgZGF5SW5kZXggPSBkYXRlLmdldERheSgpIC0gMTtcclxuICBcclxuICAgIHJldHVybiAgZGF5TmFtZXNbZGF5SW5kZXhdICsgXCIgXCIgKyBkYXkgKyBcIiBcIiArIG1vbnRoTmFtZXNbbW9udGhJbmRleF07XHJcbn1cclxuXHJcbmRhdGVEaXNwbGF5LnRleHRDb250ZW50ID0gZm9ybWF0RGF0ZShuZXcgRGF0ZSgpKTtcclxuXHJcbnNldEludGVydmFsKGZ1bmN0aW9uKCl7XHJcbiAgICBkYXRlRGlzcGxheS50ZXh0Q29udGVudCA9IGZvcm1hdERhdGUobmV3IERhdGUoKSk7XHJcbn0sIDYwMDAwKTtcclxuXHJcbiJdfQ==
